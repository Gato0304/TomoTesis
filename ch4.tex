
%Existen diversas herramientas para emular procesos, las cuáles difieren según su aplicación. Algunas de ellas serán expuestas a continuación: 

% LabView 
% NI Instruments
% 
%


% por qué emular y no simular


% selección de emulador


%
En este capítulo se muestran los requisitos y las características que se necesitan para la selección de la plataforma tecnológica utilizada en el proyecto.

\section{Requerimientos para el desarrollo del proyecto }\label{sec:requerimientos}

Para emular el sistema de segundo orden, es necesario cumplir con ciertos requerimientos con el objetivo de obtener comportamientos aproximados a un sistema físico y con resultados. 

Para esto se tomó en cuenta lo siguiente:

\begin{itemize}
	
	\item El recurso escogido para emular el sistema debe generar un gráfico de la respuesta.
	\item El lenguaje de programación debe permitir realizar los cálculos matemáticos necesarios para emular el sistema. 
	\item Se necesita un dispositivo que cuente con un puerto de comunicación serial. 
	\item Se necesita un dispositivo con una velocidad de procesamiento compatible con el hardware que se va a utilizar. 
	\item La emulación debe hacerse mediante cálculos matemáticos sin consumir recursos excesivos en el dispositivo.
    \item El programa a desarrollar debe estar basado en software libre.
	
	  
\end{itemize}

%Se necesitaba un dispositivo real que pudiera cumplir con los requerimientos para realizar la emulación de la planta de segundo orden, de las cuales se obtuvo dos opciones la primera fue un filtro Sallen-Key y el segundo fue un computador personal
\section{Emulación de un sistema de segundo orden}
A continuación, se presentarán cuatro posibles formas de trabajar y emular un sistema de segundo orden.
\subsection{Emulación mediante un circuito electrónico}

La ventaja principal de los circuitos electrónicos es que ofrecen una aproximación rápida y de bajo costo para algunos sistemas. Sin embargo, sus comportamientos no siempre se ajustan correctamente a los de un sistema de segundo orden físico, debido a limitaciones de hardware y a la tolerancia de los componentes usados. Además, para su debido procesamiento es necesario el uso de periféricos convertidores de señal analógica y microcontroladores con una alta tasa de bits de muestreo.

Teniendo esto en cuenta y para cumplir con los requerimientos mencionados en la sección \ref{sec:requerimientos} y las estimaciones hechas en  la sección \ref{sec:modeladocircuito}, se determina que el uso de un circuito para emular el sistema de segundo orden no ofrece una solución de aproximación óptima debido a las limitaciones que se tienen en este trabajo para medir su desempeño a través del método HIL y la comparación hecha en la tabla \ref{tab:sallenvsdiscreto}.


%Este tipo de filtros se utiliza como un circuito que permite implementar filtros activos de orden superior.


\subsection{Matlab}

Matlab es considerado un sistema de cómputo numérico que tiene un lenguaje de programación propio, es una herramienta que permite manejar cálculos relacionados con ingeniería y ciencia.

Por lo tanto, se implementó la planta de segundo orden en Simulink para que se comunicara por puerto serial con el controlador real y obtener de esta manera una comunicación del sistema con el controlador, pero este método no cumple con los requerimientos debido a las siguientes desventajas:

\begin{itemize}
	
	\item La comunicación serial no es en tiempo real y los dos dispositivos no podían comunicarse correctamente.
    \item Es una herramienta que no posee licencia libre.
    \item Consume demasiados recursos gráficos y de memoria para su ejecución.
\end{itemize}


 \subsection{LabVIEW}

Es un entorno de programación gráfica, el cual  se basa en tareas de medición y experimentación, es aplicado en ámbitos de distribución eléctrica y control de procesos, entre otros.

Existe una extensión de LabVIEW, que es LabVIEW-Multisim el cuál contiene el módulo de simulación y control de sistemas de lazo abierto y cerrado. Sin embargo, existen ciertos inconvenientes con esta herramienta listados a continuación:

\begin{itemize}
	
	\item Consume demasiados recursos gráficos y de memorias para su ejecución.
	\item Es un software que requiere licencia.
\end{itemize}

 \subsection{Python}
 
Es un lenguaje de programación libre, el cual tiene diferentes aplicaciones como lo es el desarrollo web y software, ciencia de datos (aprendizaje automático, análisis de datos), cálculo científico y numérico.

%Según la revista científica IEEE Spectrum en el 2020 Python se encontraba como uno de los lenguajes de programación más populares. Como se muestra en la imagen \ref{fig:ranking} 

Según el ranking PYPL (PopularitY of Programming Language) en enero de 2024, Python se encontraba como uno de los lenguajes de programación más populares. Como se muestra en la imagen \ref{fig:ranking}

 \begin{figure}[H]
	\centering
	\includegraphics[width=0.5 \linewidth]{img/rankingpypl2023}
	\caption{Ranking de lenguajes de programación mas populares de 2024}
	\label{fig:ranking}
    \cite{lang}
\end{figure}   

 Desarrollar en Python no se traduce en un uso excesivo de memoria del sistema, ya que este se adapta a las condiciones del programa según las habilidades del programador, pudiendo optimizarse el código para ser utilizado en una computadora de bajos recursos.  

Python permite instalar varias librerías, bibliotecas y herramientas para realizar entornos gráficos y cálculos científicos, modelado de sistemas complejos y estadísticos, algunas librerias de utilidad para el modelado de sistemas de control e interfaces de usuario son:
 

\begin{itemize}
	
	\item \textbf{tkinter:} Este paquete viene incluido en Python, sirve para desarrollar interfaces gráficas de usuarios (GUI).
	
	El módulo tkinker cuenta con componentes gráficos llamados Widgets, los cuales deben seguir una jerarquía para crear la interfaz, algunos widgets de relevancia son:
	\subitem \textbf{- tkinter.font:} Permite especificar el nombre, tamaño y estilo de la fuente que se utiliza.
	\subitem \textbf{- TK:} Es la ventana principal de la interfaz, es donde se colocan los widgets.
	\subitem \textbf{- Frame: }Es un marco que permite configurar la interfaz gráfica e incorporar elementos o Widgets a la ventana.
	\subitem \textbf{- Label:} Permite mostrar texto o imagen. 
	\subitem \textbf{- Entry: }Permite introducir textos cortos, estilo formulario.
	\subitem \textbf{- Text: }Introduce textos largos.
	\subitem \textbf{- Button: }Permite ejecutar una función al pulsar.
	\item \textbf{matplotlib:} Esta librería permite generar gráficos 2d que se basan en datos que pueden estar en listas o arreglos.
	
	Dentro de esta librería, se encuentra el módulo Pyplot, el cual es de utilidad para imprimir la imagen de un gráfico.
	
	\item \textbf{numpy:} Significa "Numerical Python" permite proporcionar estructuras de datos con matrices. Para el modelado de sistemas lineales de control, numpy cuenta con  algunos métodos y funciones que permiten operar matemáticamente funciones de transferencia. Algunas de estas funciones son:
	\subitem \textbf{np.array():} Permite trabajar con  matrices n-dimensionales, con forma de filas y columnas, ubicados en varios elementos de memoria.
	\subitem\textbf{np.linspace():} Esta función genera un arreglo formado por una cantidad arbitraria de números equiespaciados en un intervalo dado.
	
	\subitem\textbf{np.append():} Permite agregar elementos al final del arreglo. 

	\subitem\textbf{np.insert():} Se puede utilizar el método insert para insertar un elemento o columna.
	
	 
	%\item \textbf{control.matlab:} La librería de control implementa operaciones comunes para el análisis y diseño de sistemas de control de retroalimentación. Puede hacer uso de otras librerías como NumPy y SciPy.
	
%	La herramienta control.matlab permite utilizar mucha de las funciones de  MATLAB Control Systems Toolbox.
	
	\item \textbf{time:}
	Esta librería permite obtener un rango de tiempo de una función.
	\item \textbf{pyserial:} Esta librería permite configurar y utilizar el puerto serial.  

\end{itemize}

\section{Comparación entre los sistemas considerados para la emulación }

En esta sección se consideran los recursos descritos anteriormente que son de utilidad para emular el sistema de segundo orden. En la tabla \ref{tab:requisitos} se presenta el resultado de la comparación entre estas herramientas, tomando en cuenta los criterios expuestos a inicios de este capítulo.


Asimismo, en la tabla \ref{tab:requisitos} se muestra que la herramienta que cumple con todos los criterios es Python. Por lo tanto se considerará como el recurso de desarrollo para el modelado del sistema.



\begin{table}[H]
	
	
	\begin{center}	
		
		
				\centering
				\caption{Comparación entre las herramientas estudiadas para la emulación del sistema según los requisitos para la implementación del programa desarrollado.}
				\resizebox{15cm}{!} {
				\begin{tabular}{|p{7.785em}|p{9.5em}|p{11.5em}|p{7.5em}|p{10.5em}|}
					\hline
					\begin{center}
						\textbf{ Sistemas considerados}
					\end{center} &\begin{center}
					 \textbf{Circuito electrónico}
				\end{center} & \begin{center}
				\textbf{Matlab}
			\end{center} & \begin{center}
			\textbf{LabView} 
		\end{center}& \begin{center}
		\textbf{Python} 
	\end{center}\\
					\hline
					\begin{center}
						\textbf{Gráfico de la respuesta}
					\end{center} &\begin{center}
					 No 
				\end{center}   & \begin{center}
				Si
			\end{center}    &\begin{center}
			 Si
		\end{center}    & \begin{center}
		Si
	\end{center} \\
					\hline
					\begin{center}
						\textbf{Programación con cálculos matemáticos }
					\end{center} & \begin{center}
					No 
				\end{center}   & \begin{center}
				Si 
			\end{center}   & \begin{center}
			Si
		\end{center}    &\begin{center}
		 Si
	\end{center} \\
					\hline
					\begin{center}
						\textbf{Puerto  de comunicación serial}
					\end{center} & \begin{center}
					No 
				\end{center}   & \begin{center}
				Si 
			\end{center}   & \begin{center}
			Si 
		\end{center}   &\begin{center}
		 Si
	\end{center} \\
					\hline
				\begin{center}
						\textbf{Procesamiento en tiempo real}
				\end{center} & \begin{center}
				Si
			\end{center}    & \begin{center}
			No
		\end{center}    &\begin{center}
		 Si 
	\end{center}   & \begin{center}
	Si
\end{center} \\
					\hline
					\begin{center}
						\textbf{Bajo consumo de recursos en el dispositivo }
					\end{center} &\begin{center}
					 Si
				\end{center}    & \begin{center}
				No
			\end{center} & \begin{center}
			No
		\end{center} & \begin{center}
		Si
	\end{center} \\
					\hline
					\begin{center}
						\textbf{Poseer licencia libre}
					\end{center} & \begin{center}
					Si 
				\end{center}   & \begin{center}
				No
			\end{center}    & \begin{center}
			No 
		\end{center}   & \begin{center}
		Si
	\end{center} \\
					\hline
				\end{tabular}%
				
				\label{tab:requisitos}%
		}
\end{center}

\end{table}%


%El dispositivo real que se utilizó fue la computadora y se escogió entre los siguientes lenguajes de programación para tener una plataforma tecnológica que permita emular la planta:


